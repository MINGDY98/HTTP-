### 내 식대로 정리
<img width="1298" alt="image" src="https://user-images.githubusercontent.com/38098157/182637206-2954d161-6b96-4a9e-b424-726207c71737.png">




2.1 인터넷의 리소스 탐색하기

URN은 현재 리소스가 어디에 존재하든 상관없이 그 이름만으로 리소스를 식별하는데 비해 URL은 리소스가 어디 있는지 설명해서 리소스를 식별함
URL은 HTTP 프로토콜이 아닌 다른 가용한 프로토콜을 사용할 수도 있다.
ex mailto:president@hitehouse.gov (이메일 주소)
ftp://ftp.lots-o-books.com/pub/complete-price-list.xls (FTP 서버에 올라가 있는 파일)
URL은 모든 사람이 같은 방식으로 이름을 써서 리소스를 찾을 수 있도록, 단일 방식의 작명 규칙을 가지지만, 처음부터 이렇게 일관된 명명방식이 있지 않았다.
2.1.1 URL이 있기 전 암흑의 시대

URL과 웹이 있기전, 사람들은 네트워크상의 데이터에 접근하기 위해 오합지졸에 가까울 정도로 애플리케이션마다 달리 가지고 있는 분류 방식을 사용
URL은 브라우저가 더 영리하게 리소스에 접근하고 그것을 다루게 함으로써 온라인 세상을 단순화시킨다. 애플리케이션은 URL을 사용함으로서 정보에 쉽게 접근할 수 있다.
인터넷 뉴스를 읽으려고 뉴스 리더를 사용할 필요가 없다
FTP 서버에 있는 파일에 접근하려고 FTP클라이언트를 사용할 필요가 없다.
2.2 URL 문법

URL로 인터넷상의 모든 리소스를 찾을 수 있지만, 그 리소스들은 다른 스킴(HTTP, FTP,SMTP)을 통해 접근할 수 있으며 URL 문법은 스킴에 따라 조금씩 다르다.
대부분의 URL 스킴의 문법은 일반적으로 9개 부분으로 나뉜다.


`<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`



모든 컴포넌트를 가지는 URL은 거의 없으며 세가지 컴포넌트인 스킴, 호스트, 경로가 중요하다.
2.2.1 스킴 : 사용할 프로토콜

주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보ex http
URL을 해석하는 애플리케이션이 어떤 프로토콜을 사용하여 리소스를 요청해야하는지 알려줌
대소문자를 가리지 않음
2.2.2 호스트와 포트

애플리케이션이 인터넷에 있는 리소스를 찾으려면, 리소스를 호스팅하고 있는 장비와 그 장비 내에서 리소스에 접근할 수 있는 서버가 어디에 있는지 알아야함 → 호스트와 포트는 그 정보들을 제공
호스트 : 접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비
포트 : 서버가 열어놓은 네트워크 포트
내부적으로 TCP 프로토콜을 사용하는 HTTP는 기본 포트로 80 사용
2.2.3 사용자 이름과 비밀번호

많은 서버가 자신이 가지고 있는 데이터에 접근을 허용하기 전에 사용자 이름/비밀번호를 요구함
예시 -FTP
url	설명
ftp://ftp.prep.ai.mit.edu/pub/gnu	
사용자 이름, 비밀번호 없음, 표준 스킴, 호스트, 경로만 존재
애플리케이션이 FTP와 같이 사용자 이름과 비밀번호를 요구하는 URL 스킴을 사용한다면 기본 사용자정보 넣음
ex) 기본 사용자 이름 값으로 anonymous가 비밀번호는 브라우저마다 가지고 있는 기본값 사용(인터넷 익스플로러는 IEUSER,크롬은 chrome@example.com)
ftp://anonymous@ftp.prp.ai.mit.edu/pub/gnu	- anonymous는 사용자 이름 , '@'로 사용자 이름+ 비밀번호 컴포넌트 세트 분리 
ftp://anonymous:my:passwd@ftp.prep.ai.mit.edu/pub/gnu	
사용자 이름과 비밀번호는 : 문자로 분리하여 기술
http://joe:joespasswd@www.joes-hardware.com/sales_info.txt	


2.2.4 경로

URL의 경로 컴포넌트는 리소스가 서버의 어디에 있는지 알려줌
유닉스 파일 시스템의 파일 경로와 유사하게 /문자를 기준으로 경로조각으로 나뉜다.
각 경로조각은 자체만의 파라미터 컴포넌트를 가질 수 있음


2.2.5 파라미터

URL을 사용하는 애플리케이션이 리소스에 접근하려면 프로토콜 파라미터가 필요
URL의 파라미터 컴포넌트는 애플리케이션이 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는데 사용됨.
이름/값 쌍의 리스트로 URL 나머지 부분들로부터 ;문자로 구분하여 URL에 기술, 이를 통해 어떤 추가 정보든 전달 가능
ex ftp://prep.ai.mit.edu/pub/gnu;type=d
http url에서의 경로 컴포넌트는 경로 조각으로 나눌 수 있고, 각 조각은 자체 파라미터를 가질 수 있ㅇ,ㅡㅁ
ex http://www.joews-hardware.com/hammers;sale=false/index.html;graphics=true hammers와 index.html 이라는 두개의 경로조각이 있고 각각 파라미터를 가짐
2.2.6 질의 문자열

http://www.joes-hardware.com/inventory-check.cgi?item=12731

아이템 번호 12731의 재고가 있는지 확인하기 위해서 웹 데이터베이스 게이트웨이에 질의하는데 사용
? 우측의 값 : 질의 컴포넌트
URL의 질의 컴포넌트는 게이트웨이를 가리키는 URL의 경로 컴포넌트와 함께 전달
게이트웨이 : 다른 애플리케이션에 접근하려고 할 때 거치는 통로
2.2.7 프래그먼트

리소스의 특정 부분을 가리킬 수 있도록 URL은 HTML 문서에 있는 특정 이미지나 일부분을 가리킬 수 있다.
HTML 같은 리소스 형식들은 본래의 수준보다 더 작게 나뉠 수 있음. 예로 용량이 큰 한 개의 텍스트 문서의 경우, 그 리소스에 대한 URL은 텍스트 문서 전체를 가리키겠지만, 이상적으로는 리소스 안의 특정 절을 가리킬 수 있어야함
프래그먼트는 URL의 오른쪽에 # 문자에 이어서 옴.
일반적으로 HTTP 서버는 객체 일부가 아닌 전체만 다루기에 클라이언트는 서버에 프래그먼트를 전달하지 않는다.
브라우저가 서버로부터 전체 리소스를 받은 후 프래그먼트를 사용하여 보고자 하는 리소스의 일부를 보여준다.
2.3 단축 URL

웹 클라이언트는 몇몇 단축 URL을 인식하고 사용한다.
많은 브라우저가 URL일부를 입력하면 나머지 부분을 자동으로 입력해주는 URL자동확장을 지원한다.
2.3.1 상대URL

지금까지 우리가 본 것은 절대 URL이고 리소스에 접근하는데 필요한 모든 정보를 가지는데 상대 URL은 모든 정보를 담고 있지 않다. 상대URL로 리소스에 접근하는데 필요한 모든 정볼르 얻기 위해서는 base(가지)라고 하는 다른 URL을 사용해야한다.



URL을 처리하는 브라우저 같은 애플리케이션은 상대 URL과 절대URL 간에 상호 변환을 할 수 있어야함
관련 내용들
기저 URL : 변환 과정의 첫 단계는 기저URL을 찾는 것 기저 URL은 상대URL의 기준이됨
리소스에서 명시적으로 제공 : 어떤 리소스는 기저URL을 명확하게 ㅅ기술. ex) HTML 문서에서는 그안에 있는 모든 상대 URL을 변경하기 위해 기저 URL을 가리키는 <BASE> HTML 태그를 기술할 수 있음
리소스를 포함하고 있는 기저 URL : 만약 상대 URL이 기저URL이 명시되지 않은 리소스에 포함된 경우, 해당 리소스의 URL을 기저 URL로 쓸 수 있다.
기저 URL이 없는 경우 : 보통 절대 URL로만 이루어져있다는 뜻이며 불완전하거나 깨긴 것일수있음
상대 참조 해석하기 : 상대 URL을 절대 URL로 변환하기 위해서는 상대 URL과 기저 URL을 각각의 컴포넌트 조각으로 나누는 것 그리고 알고리즘을 통해 상대 URL을 리소스를 참조하는데 사용할 수 있는 절대 경로 형태로 변환
알고리즘

2.3.2 URL 확장

많은 브라우저는 URL을 입력시 자동으로 확장하여 빠르게 URL을 입력하도록 도와줌. 호스트명 확장과 히스토리 확장 두 가지로 나뉨
호스트명 확장
단순한 휴리스틱만 사용해서 확장
yahoo입력시 자동으로 www., .com 붙이기
yahoo가 포함된 사이트를 찾지 못할 경우 확장하기 전 몇가지URL 제시
하지만, 호스트명 확장은 프락시와 같은 다른 http 애플리케이션에 문제 발생가능성이 있음
히스토리 확장
과거에 사용자가 방문했던 URL 기록 저장해서 유사한 입력시 URL 목록 제안
프락시 사용시 ㅓ다르게 동작할 수 있음(6장)
2.4 안전하지 않은 문자

어떤 인터넷 프로토콜을 통해서든 안전히 전송될 수 있도록 설계된 URL
정보과 유실될 위험없이 안전한 전송을 하기 위해서 안전한 알파벳 문자만 포함하도록 허락
추가로 알파벳 외의 문자도 포함하려고 할때는 이스케이프를 이용해 안전하지 않은 문자를 안전한 문자로 인코딩 할 수 있게함
2.4.1 → 동일 내용. 생략

2.4.2 인코딩 체계

안전하지 않은 문자들을 표현할 수 있는 인코딩 방식
안전하지 않은 문자를 %로 시작해 ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 '이스케이프'문자로 바꿈
2.4.3 문자 제한

몇몇 문자는 URL 내에서 특별한 의미로 예약되어 있고 어떤 문자는 US_ASCII 의 출력 가능한 문자 집합에 포함되어 있지 않거나, 게이트웨이와 프로토콜에서 혼동됨
예약된 문자들을 본래의 목적이 아닌 다른 용도로 사용하려면 그 전에 반드시 인코딩해야하는 문자를 추려놓음



2.4.4 추가로 알아보기

입력받은 URL에서 어떤 문자를 인코딩해야 하는지 결정하는 데는 브라우저처럼 최초로 URL을 입력받는 애플리케이션에서 하는 것이 적절
2.6 미래

URL의 단점 : 리소스가 옮겨지면 URL을 더는 사용할 수 없음
이상적인 방법은 객체의 위촤 상관없이 그 객체를 가리키는 실제 객체의 이름ㅇ르 사용하는 것 → URN
PURL(persistent uniform resource locators, 지속 통합 자원 지시자)를 사용하면 URL로 URN의 기능 제공 가능
PURL는 리소스의 실제 URL 목록을 관리하고 추적하는 리소스 위치 중개 서버를 두고, 해당 리소스를 우회적으로 제공
URL에서 URN으로 주소 체계를 바꾸는 것은 매우 큰 작업.


